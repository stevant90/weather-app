(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a.p+"static/media/bg.321d4a39.jpg"},11:function(e,t,a){e.exports=a.p+"static/media/ns.e60f3277.jpg"},29:function(e,t,a){e.exports=a.p+"static/media/cloud.979e2bcc.svg"},30:function(e,t,a){e.exports=a.p+"static/media/rain.65c686c6.svg"},31:function(e,t,a){e.exports=a.p+"static/media/storn.b559aea6.svg"},32:function(e,t,a){e.exports=a.p+"static/media/snowing.326b62d1.svg"},33:function(e,t,a){e.exports=a.p+"static/media/moon.d033d080.svg"},34:function(e,t,a){e.exports=a.p+"static/media/refresh.72c5a223.svg"},35:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjAgYKLTV4odQqAAAAcUlEQVQoz7WRuw2AMAxED8EgLMQO6VkCIUEBPT2p2IoZGAA9CgIiH8pc6Xe2z7KUXQWNai3FGSNKtdrFAVjKGGOBQ3QQWxyGThI9ABvVB68ATE/Bs0TYt7x4DkMNLsu9e0xc7KakugPLH5YkDCb/dwJdwRR2omUndswAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMDItMDZUMDk6NDU6NTMrMDE6MDDj5rOoAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTAyLTA2VDA5OjQ1OjUzKzAxOjAwkrsLFAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII="},39:function(e,t,a){e.exports=a(94)},4:function(e,t,a){e.exports=a.p+"static/media/cloudy.9938a26a.svg"},81:function(e,t,a){},9:function(e,t,a){e.exports=a.p+"static/media/sun.e2f5f1c5.svg"},94:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),i=a.n(c),s=a(100),l=a(36),o=a.n(l),m=a(25),u=a(26),d=a(37),h=a(27),A=a(38),p=a(3),y=a.n(p),f=a(28),E=a.n(f),_={belgrade:{lat:44.787197,long:20.457273,name:"Belgrade"},novisad:{lat:45.267136,long:19.833549,name:"Novi Sad"}},g=a(101),C=a(29),N=a.n(C),v=a(4),k=a.n(v),W=a(30),w=a.n(W),O=a(31),b=a.n(O),D=a(32),x=a.n(D),I=a(9),M=a.n(I),L=a(33),U=a.n(L),B=function(e){switch(e){case"cloud":e=N.a;break;case"cloudy":case"partly-cloudy-night":case"partly-cloudy-day":e=k.a;break;case"rain":e=w.a;break;case"snow":e=x.a;break;case"sun":e=M.a;break;case"wind":e=b.a;break;case"clear-night":e=U.a;break;default:e=M.a}return e},j=a(34),T=a.n(j),F=function(e){var t=e.className,a=e.animate;return r.a.createElement("svg",{width:500,height:500,viewBox:"0 -25 500 480",className:t},r.a.createElement("path",{d:"M0 329.227c62.942-30.873 113.921-34.434 152.938-10.683 58.524 35.626 90.4 54.667 136.495 61.792 46.094 7.126 129.056-22.81 156.126-19.888 18.047 1.948 36.194 6.46 54.441 13.537V500H0V329.227z",className:"shape",fill:"#FFF",opacity:.3}),r.a.createElement("path",{d:"M0 386.78c41.094-12.664 68.782-16.407 83.064-11.231 21.423 7.764 32.074 15.816 67.59 11.23 35.517-4.585 88.176-74.02 152.284-74.02 64.109 0 66.209 34.567 117.873 34.567 34.443 0 60.84-9.6 79.189-28.798V500H0V386.78z",className:"shape",fill:"#FFF",opacity:.3}),r.a.createElement("path",{d:"M0 386.78c41.094-12.664 68.782-16.407 83.064-11.231 21.423 7.764 32.074 15.816 67.59 11.23 35.517-4.585 88.176-74.02 152.284-74.02 64.109 0 66.209 34.567 117.873 34.567 34.443 0 60.84-9.6 79.189-28.798",className:"line ".concat(a?"line--animate":"line--fade"),stroke:"#FFF",strokeWidth:8}))},Q=function(e){var t=e.currentWeather,a=e.refreshData,n=e.lastUpdated,c=e.animate,i=e.rotateDeg,s=e.restartAnimation,l=t.summary,o=t.icon,m=t.temperatureOutput,u={transform:"rotate(".concat(i,"deg)"),transition:"transform .5s ease-out"};return r.a.createElement("div",{className:"CurrentWeather"},r.a.createElement(y.a,{transitionName:"chart-animation",transitionAppear:!0,transitionAppearTimeout:1e3,transitionEnter:!1,transitionLeave:!1},r.a.createElement(F,{className:"Chart",key:"chart",animate:c})),r.a.createElement("div",{className:"CurrentWeather__content"},r.a.createElement("div",{className:"CurrentWeather__info"},r.a.createElement("article",{className:"CurrentWeather__text"},r.a.createElement("p",{className:"CurrentWeather__temp"},m,"\xb0"),r.a.createElement("p",{className:"CurrentWeather__summary"},l)),r.a.createElement("img",{src:B(o),alt:"weather-icon",className:"CurrentWeather__icon"})),r.a.createElement("div",{className:"CurrentWeather__updateText"},r.a.createElement("img",{src:T.a,alt:"refresh-icon",onClick:a,onTransitionEnd:s,style:u,className:"CurrentWeather__refreshIcon"}),r.a.createElement("span",null,"Updated"),r.a.createElement(g.a,{date:n}))))},S=function(e){var t=e.currentWeather,a=t.humidityOutput,n=t.dewPointOutput,c=t.uvIndex,i=t.visibilityOutput;return r.a.createElement("div",{className:"AdditionalWeatherInfo"},r.a.createElement("div",{className:"AdditionalWeatherInfo__content"},r.a.createElement("article",{className:"AdditionalWeatherInfo__text"},r.a.createElement("p",{className:"AdditionalWeatherInfo__units"},a,"%"),r.a.createElement("p",{className:"AdditionalWeatherInfo__title"},"Humidity")),r.a.createElement("article",{className:"AdditionalWeatherInfo__text"},r.a.createElement("p",{className:"AdditionalWeatherInfo__units"},n,"\xb0"),r.a.createElement("p",{className:"AdditionalWeatherInfo__title"},"Dew Pt.")),r.a.createElement("article",{className:"AdditionalWeatherInfo__text"},r.a.createElement("p",{className:"AdditionalWeatherInfo__units"},c,"/10"),r.a.createElement("p",{className:"AdditionalWeatherInfo__title"},"UV Index")),r.a.createElement("article",{className:"AdditionalWeatherInfo__text"},r.a.createElement("p",{className:"AdditionalWeatherInfo__units"},i," km"),r.a.createElement("p",{className:"AdditionalWeatherInfo__title"},"Visibility"))))},V=a(10),G=a.n(V),R=a(11),P=a.n(R),J=a(35),K=a.n(J),Y=function(e){var t=e.otherCity,a=e.changeCity,n=e.listOpen;return r.a.createElement("li",{onClick:function(){a(t)},className:"ChooseCity__select-item ".concat(n?"":"ChooseCity__select-item--fadeIn")},t.name)},H=function(e){var t=e.changeCity,a=e.city,n=e.openList,c=e.closeList,i=e.listOpen;return r.a.createElement("div",{className:"ChooseCity"},r.a.createElement("article",{className:"ChooseCity__select-wrapper",onMouseLeave:c},r.a.createElement("ul",{className:"ChooseCity__select"},r.a.createElement("li",{className:"ChooseCity__select-item",onMouseOver:n},a.name),Object.values(_).map(function(e){return a.name!==e.name?r.a.createElement(Y,{otherCity:e,changeCity:t,key:e.name,listOpen:i}):null})),r.a.createElement("img",{src:K.a,alt:"dropdown-arrow",onMouseOver:n,className:"ChooseCity__arrow ".concat(i?"ChooseCity__arrow--rotate":"")}),r.a.createElement("p",{className:"currentDate ".concat(i?"currentDate--fadeIn":"")},(new Date).toLocaleDateString("en-GB",{day:"2-digit",month:"long"}))))},z=function(e){var t=e.weeklyWeather,a=(new Date).toLocaleDateString("en-GB",{weekday:"short"}),n=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],c=n.slice(n.indexOf(a)+1).concat(n.slice(0,n.indexOf(a)+1)),i=t.map(function(e,t){return r.a.createElement("article",{key:t,className:"WeeklyWeather__card"},r.a.createElement("div",{className:"WeeklyWeather__card-content"},r.a.createElement("img",{src:B(e.icon),alt:"weather-icon",className:"WeeklyWeather__icon"}),r.a.createElement("p",{className:"WeeklyWeather__temp"},e.temperatureMax,"\xb0"),r.a.createElement("p",{className:"WeeklyWeather__days"},c[t])))});return r.a.createElement("div",{className:"WeeklyWeather"},i)},q=function(e){var t=e.changeCity,a=e.city,n=e.openList,c=e.closeList,i=e.listOpen,s=e.weeklyWeather,l=e.fadeCity;return r.a.createElement("div",{className:"CityCard"},r.a.createElement("div",{style:{backgroundImage:"url(".concat(P.a,")")},className:"CityCard__background ".concat(l?"":"CityCard__background--fade")},r.a.createElement("div",{className:"CityCard--blur",style:{backgroundImage:"url(".concat(P.a,")")}})),r.a.createElement("div",{style:{backgroundImage:"url(".concat(G.a,")")},className:"CityCard__background ".concat(l?" CityCard__background--fade":"")},r.a.createElement("div",{className:"CityCard--blur",style:{backgroundImage:"url(".concat(G.a,")")}})),r.a.createElement("div",{className:"CityCard__content"},r.a.createElement(H,{changeCity:t,city:a,openList:n,closeList:c,listOpen:i}),r.a.createElement(z,{weeklyWeather:s})))},X=function(){return r.a.createElement("div",{className:"ErrorMessage",key:""},r.a.createElement("p",{className:"ErrorMessage__text"},"Something went wrong"),r.a.createElement("p",{className:"ErrorMessage__text"},"Please try again"))},Z=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).changeCity=function(e){a.loadData(e),a.setState(function(e){return{listOpen:!1,fadeCity:!e.fadeCity}})},a.refreshData=function(){var e=a.state.city,t=a.state.rotateDeg+360;a.loadData(e),a.setState(function(e){return{rotateDeg:t,animate:!e.animate}})},a.restartAnimation=function(){a.setState({animate:!1})},a.openList=function(){a.setState({listOpen:!0})},a.closeList=function(){a.setState({listOpen:!1})},a.state={city:_.belgrade,currentWeather:{},weeklyWeather:[],requestError:null,lastUpdated:new Date,listOpen:!1,animate:!1,rotateDeg:360,fadeCity:!1},a}return Object(A.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.city;this.loadData(e)}},{key:"loadData",value:function(e){var t=this,a=new Date;!function(e,t,a){var n="".concat("https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/").concat("5fcd5de26357fea769a7c0eff328a254","/").concat(e.lat,",").concat(e.long).concat("?exclude=minutely,hourly,alerts,flags&units=auto");E.a.get(n).then(function(e){var a=e.data.currently,n=e.data.daily.data,r=a.temperature,c=a.summary,i=a.icon,s=a.humidity,l=a.dewPoint,o=a.uvIndex,m=a.visibility,u=Math.round(r),d=100*s.toFixed(1),h=Math.round(m),A={temperatureOutput:u,summary:c,icon:i,humidityOutput:d,dewPointOutput:Math.round(5*(l-32)/9),uvIndex:o,visibilityOutput:h},p=n.slice(1,8).map(function(e,t){return{icon:e.icon,temperatureMax:Math.round(e.temperatureMax)}});t(A,p)}).catch(function(e){return a(e)})}(e,function(n,r){t.setState({city:e,currentWeather:n,weeklyWeather:r,lastUpdated:a})},function(e){t.setState({requestError:e})})}},{key:"render",value:function(){var e=this.state,t=e.city,a=e.currentWeather,n=e.weeklyWeather,c=e.requestError,i=e.lastUpdated,s=e.listOpen,l=e.animate,o=e.rotateDeg,m=e.fadeCity;return a&&n?r.a.createElement(y.a,Object.assign({className:"MainContent"},{transitionName:"main-transition",transitionAppear:!0,transitionAppearTimeout:0,transitionEnter:!1,transitionLeave:!1}),c?r.a.createElement(X,null):r.a.createElement("main",{className:"WeatherTable"},r.a.createElement("div",{className:"WeatherInfo"},r.a.createElement(Q,{key:"weather-info",currentWeather:a,refreshData:this.refreshData,lastUpdated:i,animate:l,rotateDeg:o,restartAnimation:this.restartAnimation}),r.a.createElement(S,{currentWeather:a,key:"weather-add"})),r.a.createElement(q,{key:"city",changeCity:this.changeCity,city:t,openList:this.openList,closeList:this.closeList,listOpen:s,weeklyWeather:n,fadeCity:m}))):null}}]),t}(n.Component);a(81);s.a.locale(o.a);var $=document.getElementById("root");i.a.render(r.a.createElement(function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Z,null))},null),$)}},[[39,2,1]]]);
//# sourceMappingURL=main.a0b216df.chunk.js.map